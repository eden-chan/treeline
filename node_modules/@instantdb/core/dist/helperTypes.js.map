{"version":3,"file":"helperTypes.js","sourceRoot":"","sources":["../src/helperTypes.ts"],"names":[],"mappings":"","sourcesContent":["import type {\n  InstaQLQueryEntityResult,\n  InstaQLQueryParams,\n  InstaQLQueryResult,\n  Remove$,\n} from \"./queryTypes\";\nimport type { InstantGraph } from \"./schemaTypes\";\nimport type { IDatabase } from \"./coreTypes\";\nimport { RoomSchemaShape } from \"./presence\";\n\nexport type InstantQuery<DB extends IDatabase<any, any, any>> =\n  DB extends IDatabase<infer Schema, any, any>\n    ? Schema extends InstantGraph<any, any, any>\n      ? InstaQLQueryParams<Schema>\n      : never\n    : never;\n\nexport type InstantQueryResult<DB extends IDatabase<any, any, any>, Q> =\n  DB extends IDatabase<infer Schema, any, infer CardinalityInference>\n    ? Schema extends InstantGraph<infer E, any>\n      ? InstaQLQueryResult<E, Remove$<Q>, CardinalityInference>\n      : never\n    : never;\n\nexport type InstantSchema<DB extends IDatabase<any, any, any>> =\n  DB extends IDatabase<infer Schema, any, any> ? Schema : never;\n\nexport type InstantEntity<\n  DB extends IDatabase<any, any, any>,\n  EntityName extends DB extends IDatabase<infer Schema, any, any>\n    ? Schema extends InstantGraph<infer Entities, any>\n      ? keyof Entities\n      : never\n    : never,\n  Query extends\n    | (DB extends IDatabase<infer Schema, any, any>\n        ? Schema extends InstantGraph<infer Entities, any>\n          ? {\n              [QueryPropName in keyof Entities[EntityName][\"links\"]]?: any;\n            }\n          : never\n        : never)\n    | {} = {},\n> =\n  DB extends IDatabase<infer Schema, any, any>\n    ? Schema extends InstantGraph<infer Entities, any>\n      ? EntityName extends keyof Entities\n        ? InstaQLQueryEntityResult<Entities, EntityName, Query, true>\n        : never\n      : never\n    : never;\n\nexport type InstantSchemaDatabase<\n  Schema extends InstantGraph<any, any>,\n  R extends RoomSchemaShape = {},\n  CI extends boolean = true,\n> = IDatabase<Schema, R, CI>;\n"]}