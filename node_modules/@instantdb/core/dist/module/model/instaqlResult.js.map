{"version":3,"file":"instaqlResult.js","sourceRoot":"","sources":["../../../src/model/instaqlResult.js"],"names":[],"mappings":"AAAA,SAAS,qBAAqB,CAAC,OAAO,EAAE,GAAG,GAAG,EAAE;IAC9C,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;QACzB,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,CAAC;QACxB,MAAM,EAAE,gBAAgB,EAAE,aAAa,EAAE,GAAG,IAAI,CAAC;QACjD,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,aAAa,CAAC;QAChD,KAAK,MAAM,IAAI,IAAI,QAAQ,EAAE,CAAC;YAC5B,KAAK,MAAM,MAAM,IAAI,IAAI,EAAE,CAAC;gBAC1B,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACnB,CAAC;QACH,CAAC;QACD,qBAAqB,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,GAAG,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC;AACL,CAAC;AAED;;;;;GAKG;AACH,MAAM,UAAU,cAAc,CAAC,OAAO;IACpC,MAAM,OAAO,GAAG,EAAE,CAAC;IACnB,qBAAqB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IACxC,OAAO,OAAO,CAAC;AACjB,CAAC","sourcesContent":["function _extractTriplesHelper(idNodes, acc = []) {\n  idNodes.forEach((idNode) => {\n    const { data } = idNode;\n    const { \"datalog-result\": datalogResult } = data;\n    const { \"join-rows\": joinRows } = datalogResult;\n    for (const rows of joinRows) {\n      for (const triple of rows) {\n        acc.push(triple);\n      }\n    }\n    _extractTriplesHelper(idNode[\"child-nodes\"], acc);\n  });\n}\n\n/**\n * Marshall instaql-result into list of triples. Instaql-result may have\n * multiple datalog-results, each datalog-result may have multiple join-rows\n * and each join-row may have triples.The union of these triples may have\n * duplicates, so we dedup them.\n */\nexport function extractTriples(idNodes) {\n  const triples = [];\n  _extractTriplesHelper(idNodes, triples);\n  return triples;\n}\n"]}